ПАРСЕР СЛОВАРЯ РУССКОГО ЯЗЫКА XVIII ВЕКА
========================================

----------
|ОПИСАНИЕ|
----------

Цель проекта: преобразование DOCX файлов, содержащих словарные статьи в
структурированный JSON с выделением лексикографических зон.

Исходные данные: 8 выпусков Словаря русского языка XVIII века в формате DOCX.
Каждый выпуск содержит несколько тысяч словарных статей.

------------------------------------------------------------------------------------
ПАЙПЛАЙН ОБРАБОТКИ
------------------------------------------------------------------------------------

DOCX --> TEI XML ---> HTML -----------> JSON -----------> JSON BATCH ----------> CSV
 ↓          ↓          ↓                 ↓                    ↓
исходник  pandoc   tei2html.ipynb   html2json_demo.py   html2json_batch.ipynb


ШАГ 1. ОПРЕДЕЛЕНИЕ ПОМЕТ И СОКРАЩЕНИЙ
-------------------------------------
Установлено соответствие помет словаря и их цифровых версий в
docx варианте выпусков (docs/Пометы.docx).

Составлен список условных сокращений с расшифровкой на основе правил пользования 
словарем. Выявлены и описаны особенности функционирования сокращений в docx варианте выпусков (docs/Список_условных_сокращений.docx).

Составлен список помет, визуально близких к употребляемым в оригинальных выпусках словаря (docs/Тест_символов.html)
В следующих версиях возможна полная замена существующих предложенными. 
Возможны проблемы с отображением в docx, при отображении в html проблем не выявлено.


ШАГ 2. DOCX → TEI XML (pandoc)
------------------------------
Инструмент: pandoc (https://github.com/jgm/pandoc)

Команда (pandoc должен быть добавлен в PATH):
pandoc "path to Выпуск_N.docx" -f docx -t tei -o "path to Выпуск_N_TEI.xml"

Пример:
pandoc "E:\sources\Выпуск_2_Безпристрастный_Вейэр_Отправка_fixed.docx" -f docx -t tei -o "E:\sources\Выпуск_2_Безпристрастный_Вейэр_Отправка_fixed_TEI.xml"

Выполнено для всех 8 выпусков.


ШАГ 3. TEI XML → HTML (Python)
------------------------------
Скрипт: tei2html.ipynb

Разбивает единый XML-файл на отдельные HTML-файлы для каждой словарной статьи.
Сохраняет форматирование (курсив, полужирный, надстрочные символы).

Выполнено для всех 8 выпусков.


ШАГ 4. HTML → JSON (Python)
---------------------------
Скрипты: 
html2json_demo.py — базовый парсер (рабочая версия)
parsing_zones.py — целевая структура JSON (в разработке)

Текущая реализация (html2json_demo.py):
1) Извлекает span-элементы из HTML
2) Разделяет статью на заголовочное слово и остальной текст
3) Заголовок определяется по стилю font-weight:bold
4) Выводит JSON с полями "headline" и "rest"

Базовый парсер работает, полный парсинг зон в разработке.


---------------------
СТРУКТУРА РЕПОЗИТОРИЯ
---------------------

/data
  /source        — примеры исходных DOCX
  /samples_html  — примеры HTML-статей
  /samples_json  — примеры JSON

/scripts
  tei2html.py           — конвертация TEI в HTML
  html2json_demo.py     — базовый парсер HTML в JSON
  html2json_batch.ipynb — парсер HTML в JSON с поддержкой пакетной обработки словарных статей

/docs
  Пометы.docx                     — список помет
  Список_условных_сокращений.docx — список сокращений
  Тест_символов.html  	          — тест отображения символов
  parsing_zones.py                — целевая структура зон

README.txt            — описание пайплайна
